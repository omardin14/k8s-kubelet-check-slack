# Default values for kubelet-check-slack
# This is a YAML-formatted file.

# Global configuration
global:
  imageRegistry: ""
  imagePullPolicy: IfNotPresent

# Namespace configuration
namespace:
  name: kubelet-check

# Kubelet scanner configuration
kubeletscanner:
  # Resource limits and requests
  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  
  # Security context
  securityContext:
    runAsNonRoot: true
    runAsUser: 1000
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: false
    capabilities:
      drop:
      - ALL

# Image configuration
image:
  repository: kubelet-check-slack
  tag: latest
  pullPolicy: Never  # Use Never for local minikube, Always for Docker Hub

slack:
  channel: "#kubelet-check"
  outputDir: "/tmp/kubelet-check-results"
  maxWaitTime: 300
  
  resources:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"
  
  token: ""  # Set via --set slack.token="xoxb-..." or leave empty to use existing secret

# OpenAI configuration (optional)
openai:
  apiKey: ""  # Set via --set openai.apiKey="sk-..." or leave empty to disable
  enabled: true

# Job configuration
job:
  name: kubelet-check-scan
  labels: {}
  annotations: {}
  restartPolicy: Never
  ttlSecondsAfterFinished: 3600

# CronJob configuration
cronjob:
  enabled: false
  schedule: "0 0 * * *"  # Daily at midnight GMT
  successfulJobsHistoryLimit: 3
  failedJobsHistoryLimit: 3
  suspend: false
  labels: {}
  annotations: {}

# RBAC configuration
rbac:
  create: true
  serviceAccount:
    name: ""
    annotations: {}
  clusterRole:
    name: ""
  clusterRoleBinding:
    name: ""

# Secret configuration
secret:
  create: true
  name: "slack-credentials"

# ConfigMap configuration
configMap:
  create: true
  name: "kubelet-check-config"

